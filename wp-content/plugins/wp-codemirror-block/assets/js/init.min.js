void 0===window.wpcm.editors&&(window.wpcm.editors=[]),function(e,t,o){"use strict";t.executable_modes=["htmlmixed","javascript","xml","jsx","vue"],t.frontEndInitialization=function(){var o=document.querySelectorAll(".code-block > pre.CodeMirror");t.addNotice();for(var n=0;n<o.length;n++){var a=o[n];if(a.dataset.setting){var l=JSON.parse(a.dataset.setting),i=o[n].textContent,d="code-block-"+n;o[n].parentNode.setAttribute("id",n),a.setAttribute("id",d),t.codeMirrorInit(d,i,l,n)}}e(document.body).trigger("wpcm_editors_loaded")},t.codeMirrorInit=function(n,a,l){var i=document.getElementById(n);i.style="display: none";var d=o(i.parentNode,{lineNumbers:l.lineNumbers,lineWrapping:l.lineWrapping,readOnly:l.readOnly,scrollbarStyle:"simple",firstLineNumber:l.firstLineNumber?Math.abs(l.firstLineNumber):1});o.autoLoadTheme(d,l.theme),d.setValue(a),l.disableCopy&&d.setOption("readOnly","nocursor"),d.setOption("mode",l.mime),d.setOption("theme",l.theme),l.styleActiveLine&&(d.on("blur",e=>{d.setOption("styleActiveLine",!1)}),d.on("focus",e=>{d.setOption("styleActiveLine",l.styleActiveLine)})),o.autoLoadMode(d,l.mode),void 0!==l.showPanel&&!1===l.showPanel||!0!==l.showPanel&&!0!==t.panelOptions.showPanel||(d.getWrapperElement().querySelector(".CodeMirror-simplescroll-vertical").classList.add("adjust-top"),t.addPanel(d,l)),t.executable_modes.includes(l.mode)&&t.renderOutputBlock(i),t.editors.push(d),e(document.body).trigger("wpcm_editor_loaded",[d])},t.addNotice=function(){var e=document.createElement("div");e.className="CodeMirror-notice",document.body.appendChild(e)},t.showNotice=function(e,t){var o=document.querySelector(".CodeMirror-notice");o.innerHTML=e,o.setAttribute("style",["bottom: 15px;"].join("")),setTimeout(()=>{o.removeAttribute("style")},3e3)},t.addPanel=function(e,o){var n=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),i=document.createElement("span"),d=e.getWrapperElement();if(n.className="CodeMirror-panel",a.className="info-panel",l.className="control-panel","no"==o.languageLabel||("language"==o.languageLabel?(i.textContent=o.language,i.className="language "+o.language.toLowerCase(),i.className+=o.modeName?" "+o.modeName.toLowerCase():""):"file"==o.languageLabel?(i.textContent=o.fileName?o.fileName:o.language,i.className="language "+o.language.toLowerCase(),i.className+=o.modeName?" "+o.modeName.toLowerCase():""):"language"==window.wpcm.panelOptions.languageLabel?(i.textContent=o.language,i.className="language "+o.language.toLowerCase(),i.className+=o.modeName?" "+o.modeName.toLowerCase():""):"file"==window.wpcm.panelOptions.languageLabel&&(i.textContent=o.fileName?o.fileName:o.language,i.className="language "+o.language.toLowerCase(),i.className+=o.modeName?" "+o.modeName.toLowerCase():"")),a.appendChild(i),window.wpcm.panelOptions.runButton&&t.executable_modes.includes(o.mode)){var s=document.createElement("span"),c=document.createElement("b");s.classList="tool",s.setAttribute("data-tip","Execute Code"),c.className="run-code execute-code",s.onclick=t.executeCode,s.appendChild(c),l.appendChild(s)}if(window.wpcm.panelOptions.fullScreenButton){var r=document.createElement("span"),m=document.createElement("b");r.classList="tool",r.setAttribute("data-tip","Full Screen"),m.className="fullscreen maximize",m.onclick=t.setFullScreen,r.appendChild(m),l.appendChild(r)}if(window.wpcm.panelOptions.copyButton&&!o.disableCopy){var u=document.createElement("span"),p=document.createElement("b");u.classList="tool",u.setAttribute("data-tip","Copy Code"),p.className="copy",p.onclick=t.copyToClipboard,u.appendChild(p),l.appendChild(u)}a.appendChild(l),n.appendChild(a),d.insertBefore(n,d.firstChild)},t.executeCode=function(o){var n=this,a=n.closest(".code-block"),l=a.id,i=t.editors[l],d=i.getValue(),s=a.querySelector(".output-block-frame"),c=null;s.classList.add("show"),c=s.contentWindow?s.contentWindow:s.contentDocument.document?s.contentDocument.document:s.contentDocument,c.document.open(),c.document.write(d),c.document.close(),e("html, body").animate({scrollTop:e(s).offset().top-80},600)},t.styleOutputBlock=function(e){var t=e.target,o=null,n=0;t.classList.contains("first-load")?t.classList.remove("first-load"):(o=t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument,t.setAttribute("style","height:200px"),o.document.body?(n=Math.round(o.document.body.scrollHeight)+25,n>200&&t.setAttribute("style","height:"+n+"px")):t.setAttribute("style","height:70vh"))},t.renderOutputBlock=function(e){var o=document.createElement("iframe");o.classList.add("output-block-frame","first-load"),o.onload=t.styleOutputBlock,o.style.height="100px",o.src="",e.parentNode.append(o)},t.setFullScreen=function(){var e=this,o=e.closest(".code-block"),n=o.id,a=t.editors[n],l=document.getElementById("wpadminbar");e.classList.contains("maximize")?(e.classList.remove("maximize"),e.classList.add("restore"),e.closest(".CodeMirror").classList.add("CodeMirror-fullscreen"),void 0!==l&&null!=l&&e.closest(".CodeMirror").classList.add("adjust-top"),document.documentElement.style.overflow="hidden"):(e.classList.remove("restore"),e.classList.add("maximize"),e.closest(".CodeMirror").classList.remove("CodeMirror-fullscreen","adjust-top"),document.documentElement.style.overflow=""),a.refresh()},t.copyToClipboard=function(){var e=this,o=e.closest(".code-block"),n=o.id,a=t.editors[n].getValue();if(window.clipboardData)window.clipboardData.setData("Text",a);else{var l=document.createElement("textarea");l.className="CodeMirror-ClipBoard",document.body.appendChild(l),l.appendChild(document.createTextNode(a)),l.select();try{var i=document.execCommand("copy"),d=i?"Copied to clipboard":"Can not copied"}catch(e){d="Oops, unable to copy"}t.showNotice(d,""),l.remove()}}}(window.jQuery,window.wpcm,window.CodeMirror),wpcm.frontEndInitialization(),jQuery(document).ready(function(){setTimeout(()=>{for(var e=0;e<wpcm.editors.length;e++)wpcm.editors[e].refresh()},1500)});